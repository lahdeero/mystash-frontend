(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(4),s=n(22),u=n.n(s),i=n(40),o=Object(i.a)()+"/api/notes/directory",l=null,m={},p=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(o+"/all",m);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get(o+"/note/"+t,m);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(o,t,m);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.id;case 2:return n=e.sent,e.next=5,u.a.put(o+"/note/"+n,t,m);case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("".concat(o,"/note/").concat(t),m);case 2:return n=e.sent,console.log("response "+n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();t.a={getAll:p,getOne:f,create:d,modify:h,erase:v,setToken:function(e){l="bearer ".concat(e),m={headers:{Authorization:l}}}}},137:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(46),s=n.n(c),u=n(28),i=n(62),o=n(11),l=n(55),m=n(2),p=n.n(m),f=n(4),d=n(8),h=n(37),v=(n(51),n(3)),g=n(36),E=function(e){return r.a.createElement("div",{style:{marginBottom:10}},r.a.createElement("input",{onChange:e.filter.onChange,value:e.filter.value}))},b=function(e){return r.a.createElement("div",null,r.a.createElement(v.Navbar,{className:"indigo",brand:"my-stash",right:!0},r.a.createElement(g.IndexLinkContainer,{to:"/"},r.a.createElement(v.NavItem,{eventkey:1},r.a.createElement(v.Icon,null,"view_list"))),r.a.createElement(g.IndexLinkContainer,{to:"/create"},r.a.createElement(v.NavItem,{eventkey:2},r.a.createElement(v.Icon,null,"note_add"))),r.a.createElement(g.IndexLinkContainer,{to:"/settings"},r.a.createElement(v.NavItem,{eventkey:3},r.a.createElement(v.Icon,null,"settings"))),r.a.createElement(g.IndexLinkContainer,{to:"/logout"},r.a.createElement(v.NavItem,{onClick:e.handleLogout},r.a.createElement(v.Icon,null,"logout")))),r.a.createElement(E,{filter:e.filter}))},O=n(66),x=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)(""),i=Object(d.a)(u,2),o=i[0],l=i[1],m=Object(a.useState)(""),h=Object(d.a)(m,2),g=h[0],E=h[1],b=Object(a.useState)(!1),x=Object(d.a)(b,2),y=x[0],w=x[1],j=function(){var t=Object(f.a)(p.a.mark(function t(n){return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,e.actionForLogin({username:c,password:o});case 4:t.next=11;break;case 6:t.prev=6,t.t0=t.catch(1),E("Bad credentials"),console.log(t.t0),setTimeout(function(){E("")},5e3);case 11:case"end":return t.stop()}},t,this,[[1,6]])}));return function(e){return t.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),w(!y);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return y?r.a.createElement("div",null,r.a.createElement(O.a,{handleRegisterRedirect:k})):r.a.createElement("div",null,r.a.createElement(v.Navbar,{className:"indigo",brand:"my-stash",right:!0}),r.a.createElement("div",{className:"container centered"},""!==g?r.a.createElement("div",{className:"error"},g):r.a.createElement("div",null),r.a.createElement("form",{onSubmit:j},r.a.createElement("div",null,"username:",r.a.createElement(v.Input,{type:"text",name:"username",value:c,onChange:function(e){return s(e.target.value)}},r.a.createElement(v.Icon,null,"account_circle"))),r.a.createElement("div",null,"password:",r.a.createElement(v.Input,{type:"password",name:"password",value:o,onChange:function(e){return l(e.target.value)}},r.a.createElement(v.Icon,null,"https"))),r.a.createElement(v.Button,{type:"submit"},"Login")),r.a.createElement("div",null,r.a.createElement("br",null),"Dont have account? ",r.a.createElement("a",{onClick:k,href:"/register"},"Register here"))))},y=n(34),w=function(e){var t=e.note;if(void 0===t||void 0===t.id)return r.a.createElement("div",null);var n=t.tags;void 0===n&&(n=["EI TAGIA","HUOM"]);var a=t.content.length<=150?t.content:t.content.substring(0,150)+"...";return r.a.createElement("div",{className:"card-panel deep-purple lighten-4"},r.a.createElement(v.Row,null,r.a.createElement(v.Col,null,r.a.createElement(y.a,{to:"/notes/".concat(t.id)}," ",r.a.createElement("span",{s:12,className:"blue-text text-darken-2"},t.title," ")," ")),r.a.createElement(v.Col,null,n.join(",").split(",").map(function(t){return r.a.createElement(v.Chip,{key:t,onClick:function(){var n;n={tag:t},e.filter.setFilter(n.tag)}}," ",t," ")}))),r.a.createElement("div",null,a.split("\n").map(function(e,t){return r.a.createElement("span",{key:t}," ",e," ",r.a.createElement("br",null)," ")})))},j=function(e){var t,n=Object(a.useState)(1),c=Object(d.a)(n,2),s=c[0],u=c[1],i=Object(a.useState)(10),o=Object(d.a)(i,1)[0],l=function(){var e=Object(f.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&null===t){e.next=2;break}return e.abrupt("return",u(t));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),m=1,h=e.filter.value,g=e.notes,E=g;if(h&&void 0!==h)try{var b=g.filter(function(e){return e.title.toLowerCase().includes(h.toLowerCase())}),O=g.filter(function(e){return e.tags.join(" ").toLowerCase().includes(h.toLowerCase())});t=b.concat(O),E=Array.from(new Set(t))}catch(j){console.log(j)}var x=(s-1)*o,y=x+o;return E=E.slice(x,y),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"center"},r.a.createElement(v.Pagination,{items:Math.ceil(e.notes.length/o),activePage:s,maxButtons:10,onSelect:l})),r.a.createElement("ul",null,E.map(function(t){return r.a.createElement("li",{key:m++},r.a.createElement("div",null,r.a.createElement(w,{note:t,Key:m,filter:e.filter})))})),r.a.createElement("div",{className:"center"},r.a.createElement(v.Pagination,{items:Math.ceil(e.notes.length/o),activePage:s,maxButtons:10,onSelect:l})))},k=n(15),C=n(16),N=n(19),I=n(17),S=n(18),T=n(61),R=n(12),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE":return e.unshift(t.data),e;case"MODIFY":return e.map(function(e){return e.id===t.data[0].id?t.data[0]:e});case"REMOVE":return e.filter(function(e){return e.id!==t.data});case"INIT_NOTES":return t.data;case"CLEAR":return[];default:return e}},D=function(e,t){return function(){var n=Object(f.a)(p.a.mark(function n(a){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"NOTIFY",data:e}),setTimeout(function(){a({type:"HIDE_NOTIFICATION"})},1e3*t);case 2:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},M=function(e,t){return function(){var n=Object(f.a)(p.a.mark(function n(a){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:a({type:"ERROR",data:e}),setTimeout(function(){a({type:"HIDE_ERROR"})},1e3*t);case 2:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY":case"ERROR":return[e=t.data,t.data];case"HIDE_NOTIFICATION":case"HIDE_ERROR":return e="";default:return e}},F=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(I.a)(t).call(this,e))).deleteNote=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!window.confirm("Are you sure you want to delete '".concat(n.state.title,"' ?"))){e.next=11;break}return e.next=4,n.props.removeNote(n.state.id);case 4:if(a=e.sent,console.log("DEL ID = "+a),"number"!==typeof a){e.next=11;break}return e.next=9,n.props.notify("you deleted '".concat(n.state.title,"'"),10);case 9:return e.next=11,n.setState({redirect:!0});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.state={redirect:!1,id:"",title:"",content:"",tags:[]},n}return Object(S.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.a.getOne(this.props.match.params.id);case 3:return t=e.sent,e.next=6,this.setState({id:t[0].id,title:t[0].title,content:t[0].content,tags:t[0].tags});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),this.props.errormessage("Couldn't find note '".concat(this.props.match.params.id,"'"),5),this.setState({redirect:!0});case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){if(this.state.redirect)return r.a.createElement("div",null,r.a.createElement(T.a,{to:"/"}));var e=this.state.tags.join(),t=this.state.content,n="/notes/edit/"+this.state.id;return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,this.state.title),r.a.createElement("p",null,"[",e,"]"),r.a.createElement("div",null,t.split("\n").map(function(e,t){return r.a.createElement("span",{key:t},e,r.a.createElement("br",null))})),r.a.createElement("div",null,r.a.createElement(y.a,{to:n},r.a.createElement(v.Button,{className:"deep orange"},"EDIT"),"\xa0"),r.a.createElement(v.Button,{className:"red accent-2",onClick:this.deleteNote},"DELETE")))}}]),t}(r.a.Component),B={removeNote:function(e){return function(){var t=Object(f.a)(p.a.mark(function t(n){var a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.erase(e);case 2:return a=t.sent,n({type:"REMOVE",data:e}),t.abrupt("return",a);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},notify:D,errormessage:M},_=Object(o.b)(null,B)(F),U=n(41),G=n(42),H=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(I.a)(t).call(this,e))).handleSubmit=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,{id:n.state.id,title:n.state.title,content:n.state.content,tags:n.state.tags};case 4:return a=e.sent,e.next=7,n.props.modifyNote(a);case 7:return e.next=9,n.props.notify("you modified '".concat(a.title,"'"),10);case 9:return n.setState({title:"",content:"",tags:[]}),e.next=12,n.setState({redirect:!0});case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0),n.props.errormessage("ERROR WHILE EDITING NOTE",10);case 18:case"end":return e.stop()}},e,this,[[1,14]])}));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){n.state.isMounted&&n.setState(Object(U.a)({},e.target.name,e.target.value))},n.handleContent=function(e){n.setState({content:e.target.value})},n.addTag=function(){var e=Object(f.a)(p.a.mark(function e(t){var a,r;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,4;case 3:if(a=e.sent,0!==n.state.tagText.length&&!n.state.tags.includes(n.state.tagText)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,n.state.tags;case 8:return r=e.sent,e.next=11,r.push(n.state.tagText);case 11:if(!(r.length>a)){e.next=15;break}n.props.notify("Maxium number of tags is '".concat(a,"'"),10),e.next=23;break;case 15:return e.prev=15,e.next=18,n.setState({tags:r,tagText:""});case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(15),n.props.errormessage("ERROR WHILE ADDING TAG",10);case 23:case"end":return e.stop()}},e,this,[[15,20]])}));return function(t){return e.apply(this,arguments)}}(),n.state={isMounted:!1,redirect:!1,tagText:"",id:"",title:"",content:"",tags:[]},n}return Object(S.a)(t,e),Object(C.a)(t,[{key:"componentWillMount",value:function(){var e=Object(f.a)(p.a.mark(function e(){var t;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.getOne(this.props.match.params.id);case 2:return t=e.sent,e.prev=3,e.next=6,this.setState({id:t[0].id,title:t[0].title,content:t[0].content,tags:t[0].tags.filter(function(e){return null!==e})});case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),this.props.errormessage("Couldn't find note '".concat(this.props.match.params.id,"'"),5),this.setState({redirect:!0});case 12:case"end":return e.stop()}},e,this,[[3,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(f.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isMounted:!0});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=Object(f.a)(p.a.mark(function e(){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({isMounted:!1});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removeTag",value:function(e){this.setState({tags:this.state.tags.filter(function(t){return t!==e})})}},{key:"render",value:function(){var e=this;if(this.state.redirect){return r.a.createElement("div",null,r.a.createElement(T.a,{to:"/"}))}return r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("h3",null,"Note tags\xa0"),r.a.createElement(v.Button,{className:"indigo",position:"right",delay:"50",tooltip:"Click tag name to remove"},"[?]")),r.a.createElement("div",null,r.a.createElement(v.Row,null,r.a.createElement(v.Col,{s:12},this.state.tags.map(function(t){return r.a.createElement(v.Chip,{key:t,onClick:function(){e.removeTag(t)}}," ",t," ")})))),r.a.createElement("div",null,r.a.createElement("form",{id:"tagform",onSubmit:this.addTag},r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{name:"tagText",value:this.state.tagText,onChange:this.handleChange})),r.a.createElement("br",null),r.a.createElement(v.Button,{className:"deep orange",type:"submit",form:"tagform"},"Add tag"))),r.a.createElement("h2",null,"Edit note"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,"Title",r.a.createElement("br",null),r.a.createElement("input",{name:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"Content",r.a.createElement("br",null),r.a.createElement(G.a,{className:"note-edit",value:this.state.content,onChange:this.handleContent,minRows:10}))),r.a.createElement("br",null),r.a.createElement(v.Button,{waves:"light",className:"red accent-2",type:"submit"},"Save")))}}]),t}(r.a.Component),P={modifyNote:function(e){return function(){var t=Object(f.a)(p.a.mark(function t(n){var a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.modify(e);case 2:return t.next=4,R.a.getOne(e.id);case 4:return a=t.sent,t.next=7,n({type:"MODIFY",data:a});case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},notify:D,errormessage:M},W=Object(o.b)(null,P)(H),z=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(I.a)(t).call(this,e))).handleChange=function(e){n.state.isMounted&&n.setState(Object(U.a)({},e.target.name,e.target.value))},n.handleContent=function(e){n.setState({content:e.target.value})},n.addTag=function(){var e=Object(f.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),10,!(n.state.tags.length>=10)){e.next=5;break}return n.props.notify("Maxium number of tags is '".concat(10,"'"),10),e.abrupt("return");case 5:if(0!==n.state.tagText.length&&!n.state.tags.includes(n.state.tagText)){e.next=7;break}return e.abrupt("return");case 7:return(a=n.state.tags).push(n.state.tagText),e.prev=9,e.next=12,n.setState({tags:a,tagText:""});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),n.props.errormessage("ERROR WHILE ADDING TAG",10);case 17:case"end":return e.stop()}},e,this,[[9,14]])}));return function(t){return e.apply(this,arguments)}}(),n.handleSubmit=function(){var e=Object(f.a)(p.a.mark(function e(t){var a,r,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),void 0!==n.state.tags&&0!==n.state.tags.length||!(n.state.tagText.length>0)){e.next=5;break}return a=n.state.tagText.split(";"),e.next=5,n.setState({tags:a});case 5:return e.prev=5,e.next=8,{title:n.state.title,content:n.state.content,tags:n.state.tags};case 8:return r=e.sent,e.next=11,n.props.createNote(r);case 11:return c=e.sent,e.next=14,n.props.notify("you created '".concat(r.title,"'"),10);case 14:return n.setState({title:"",content:"",tag_id:""}),e.next=17,n.setState({redirect_url:"/notes/"+c});case 17:return e.next=19,n.setState({redirect:!0});case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),n.props.errormessage("ERROR WHILE ADDING NOTE",10);case 24:case"end":return e.stop()}},e,this,[[5,21]])}));return function(t){return e.apply(this,arguments)}}(),n.state={isMounted:!1,redirect:!1,redirect_url:"",tagText:"",title:"",content:"",tags:[]},n}return Object(S.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.setState({isMounted:!0})}},{key:"componentWillUnmount",value:function(){this.setState({isMounted:!1})}},{key:"removeTag",value:function(e){this.setState({tags:this.state.tags.filter(function(t){return t!==e})})}},{key:"render",value:function(){var e=this;return this.state.redirect?r.a.createElement("div",null,r.a.createElement(T.a,{to:this.state.redirect_url})):r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Create new note"),r.a.createElement("form",{id:"noteform",onSubmit:this.handleSubmit},r.a.createElement("div",null,"Title",r.a.createElement("br",null),r.a.createElement("input",{name:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"Content",r.a.createElement("br",null),r.a.createElement(G.a,{className:"note-edit",value:this.state.content,onChange:this.handleContent,minRows:10}))),r.a.createElement("br",null)),r.a.createElement("div",null,this.state.tags.map(function(t){return r.a.createElement(v.Button,{key:t,onClick:function(){e.removeTag(t)}}," ",t," ")})),r.a.createElement("form",{id:"tagform",onSubmit:this.addTag},r.a.createElement(v.Button,{className:"deep orange",type:"submit",form:"tagform"},"Add tag"),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("input",{name:"tagText",value:this.state.tagText,onChange:this.handleChange}))),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(v.Button,{form:"noteform",className:"red accent-2",type:"submit"},"Create")))}}]),t}(r.a.Component),J={createNote:function(e){return function(){var t=Object(f.a)(p.a.mark(function t(n){var a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.create(e);case 2:return a=t.sent,n({type:"CREATE",data:a[0]}),t.abrupt("return",a[0].id);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},notify:D,errormessage:M},Y=Object(o.b)(null,J)(z),V=function(e){function t(e){var n;return Object(k.a)(this,t),(n=Object(N.a)(this,Object(I.a)(t).call(this,e))).state={username:"",realname:"",tier:"",email:""},n}return Object(S.a)(t,e),Object(C.a)(t,[{key:"componentWillMount",value:function(){this.props.user&&this.setState({username:null!==this.props.user.username?this.props.user.username:"",realname:null!==this.props.user.realname?this.props.user.realname:"",tier:1===this.props.user.tier?"User":"Unknown",email:null!==this.props.user.email?this.props.user.email:""})}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(v.Row,null,"version 0.11"),r.a.createElement(v.Row,null,r.a.createElement(v.Col,{s:12,m:5},r.a.createElement(v.CardPanel,{className:"red accent-2 black-text"},r.a.createElement("span",null,"Currently can't change your information"))),r.a.createElement(v.Col,{s:12,m:7},r.a.createElement(v.CardPanel,{className:"blue lighten-3 black-text"},r.a.createElement(v.Row,null,r.a.createElement(v.Col,null,"Username: "),r.a.createElement(v.Col,null,this.state.username)),r.a.createElement(v.Row,null,r.a.createElement(v.Col,null,"Name: "),r.a.createElement(v.Col,null,this.state.realname)),r.a.createElement(v.Row,null,r.a.createElement(v.Col,null,"Level: "),r.a.createElement(v.Col,null,this.state.tier)),r.a.createElement(v.Row,null,r.a.createElement(v.Col,null,"Email: "),r.a.createElement(v.Col,null,this.state.email))))))}}]),t}(a.Component),q=Object(o.b)(function(e){return{user:e.user}})(V),K=function(e){function t(){return Object(k.a)(this,t),Object(N.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(S.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.notification[0];return void 0===e||e.length<=1?r.a.createElement("div",null):r.a.createElement("div",null,r.a.createElement("strong",null,e))}}]),t}(r.a.Component),Q=Object(o.b)(function(e){return{notification:e.notification}})(K),X=n(21),Z=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1];return{value:n,onChange:function(e){r(e.target.value)},setFilter:function(e){r(e)}}},$={noteInitialization:function(){return function(){var e=Object(f.a)(p.a.mark(function e(t){var n;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.getAll();case 2:n=e.sent,t({type:"INIT_NOTES",data:n});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},setLogin:X.e,actionForLogin:X.a,actionForLogout:X.b,clearNotes:function(){return function(){var e=Object(f.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CLEAR",data:[]});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},ee=Object(o.b)(function(e){return{notes:e.notes,user:e.user}},$)(function(e){var t=Z(),n=Object(a.useState)({user:null,notes:[],navigation:0,logged:0}),c=Object(d.a)(n,2),s=c[0],u=c[1];Object(a.useEffect)(function(){var e=window.localStorage.getItem("loggedMystashappUser");0===s.logged&&e&&i(e)});var i=function(){var t=Object(f.a)(p.a.mark(function t(n){var a;return p.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.user,t.next=3,u({user:a,notes:[],navigation:1,logged:1});case 3:return t.next=5,R.a.setToken(JSON.parse(n).token);case 5:return t.next=7,e.noteInitialization(a);case 7:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();if(1===s.logged){var o="/mystash-frontend";return r.a.createElement("div",null,r.a.createElement(Q,null),r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(b,{currentPage:s.navigation,filter:t,handleLogout:function(n){n.preventDefault(),window.localStorage.removeItem("loggedMystashappUser"),t.setFilter(""),e.clearNotes(),e.actionForLogout(),u({user:null,navigation:0,logged:0})}}),r.a.createElement(h.a,{exact:!0,path:"".concat(o,"/"),render:function(){return r.a.createElement(j,{notes:e.notes,filter:t})}}),r.a.createElement(h.a,{path:"".concat(o,"/login"),render:function(){return r.a.createElement(x,null)}}),r.a.createElement(h.a,{path:"".concat(o,"/create"),render:function(){return r.a.createElement(Y,null)}}),r.a.createElement(h.a,{path:"".concat(o,"/settings"),render:function(){return r.a.createElement(q,null)}}),r.a.createElement(h.a,{exact:!0,path:"".concat(o,"/notes/:id"),component:_}),r.a.createElement(h.a,{exact:!0,path:"".concat(o,"/notes/edit/:id"),component:W}))))}return r.a.createElement("div",null,r.a.createElement(x,{actionForLogin:e.actionForLogin,noteInitialization:e.noteInitialization}))}),te=Object(u.c)({user:X.d,notes:L,notification:A}),ne=Object(u.d)(te,Object(u.a)(i.a));s.a.render(r.a.createElement(l.a,null,r.a.createElement(o.a,{store:ne},r.a.createElement(ee,null))),document.getElementById("root"))},21:function(e,t,n){"use strict";var a=n(2),r=n.n(a),c=n(4),s=n(22),u=n.n(s),i=n(40),o=Object(i.a)()+"/api/",l={register:function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(o+"register",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(c.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post(o+"login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},m=n(12);n.d(t,"c",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h});var p=function(e){return Object(c.a)(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.register(e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t,this)}))},f=function(e){return m.a.setToken(e.token),console.log(e),function(){var t=Object(c.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"NOTHING",data:e});case 1:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(c.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.login(e);case 2:return a=t.sent,t.next=5,m.a.setToken(a.token);case 5:return t.next=7,window.localStorage.setItem("loggedMystashappUser",JSON.stringify({token:a.token}));case 7:return n({type:"LOGIN",data:a.user}),t.abrupt("return",a.user);case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"LOGOUT",data:null});case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()};t.d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REGISTER":case"LOGIN":return t.data;case"LOGOUT":return null;default:return e}}},40:function(e,t,n){"use strict";function a(){var e=window.location.host;return console.log("host = ",e),"localhost:3000"===e?"http://Localhost:3001":"https://my-stash.herokuapp.com"}n.d(t,"a",function(){return a})},51:function(e,t,n){},66:function(e,t,n){"use strict";(function(e){var a=n(2),r=n.n(a),c=n(4),s=n(8),u=n(0),i=n(11),o=n(3),l=n(21),m={actionForRegister:l.c,setLogin:l.e};t.a=Object(i.b)(function(e){return{notes:e.notes,user:e.user}},m)(function(t){var n=Object(u.useState)(""),a=Object(s.a)(n,2),i=a[0],l=a[1],m=Object(u.useState)(""),p=Object(s.a)(m,2),f=p[0],d=p[1],h=Object(u.useState)(""),v=Object(s.a)(h,2),g=v[0],E=v[1],b=Object(u.useState)(""),O=Object(s.a)(b,2),x=O[0],y=O[1],w=Object(u.useState)(""),j=Object(s.a)(w,2),k=j[0],C=j[1],N=Object(u.useState)(""),I=Object(s.a)(N,2),S=I[0],T=I[1],R=Object(u.useState)(!1),L=Object(s.a)(R,2),D=L[0],M=L[1],A=function(){var e=Object(c.a)(r.a.mark(function e(n){var a,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(g.length<3?(T("usename must be atleast 3 characters"),setTimeout(function(){T("")},5e3),0):!(x.length<6)||(T("password must be atleast 6 characters"),setTimeout(function(){T("")},5e3),0))){e.next=19;break}return e.prev=2,e.next=5,t.actionForRegister({realname:i+" "+f,username:g,password:x,email:k});case 5:return a=e.sent,c=a[0],e.next=9,window.localStorage.setItem("loggedMystashappUser",JSON.stringify(c));case 9:return e.next=11,M(!0);case 11:return e.next=13,t.setLogin(c);case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),T("Username not available"),setTimeout(function(){T("")},5e3);case 19:case"end":return e.stop()}},e,this,[[2,15]])}));return function(t){return e.apply(this,arguments)}}();return e.createElement("div",null,e.createElement(o.Navbar,{className:"indigo",brand:"my-stash",right:!0}),e.createElement("div",{className:"container"},e.createElement("div",null,!D&&S?e.createElement("div",{className:"error"},S):e.createElement("div",{className:"notification"},"Fields with (*) are required"),e.createElement("form",{onSubmit:A},e.createElement(o.Row,null,e.createElement(o.Input,{onChange:function(e){return l(e.target.value)},name:"firstname",label:"First Name"},e.createElement(o.Icon,null,"accessibility")),e.createElement(o.Input,{onChange:function(e){return d(e.target.value)},name:"lastname",s:6,label:"Last name"},e.createElement(o.Icon,null,"accessibility_new")),e.createElement(o.Input,{onChange:function(e){return E(e.target.value)},name:"username",s:12,label:"Username(*)"},e.createElement(o.Icon,null,"account_circle")),e.createElement(o.Input,{onChange:function(e){return y(e.target.value)},name:"password",type:"password",label:"Password(*)",s:12},e.createElement(o.Icon,null,"https")),e.createElement(o.Input,{onChange:function(e){return C(e.target.value)},name:"email",type:"email",label:"Email",s:12},e.createElement(o.Icon,null,"email"))),e.createElement(o.Button,{type:"submit"},"Register"))),e.createElement("br",null),e.createElement("br",null),"Back to ",e.createElement("a",{onClick:t.handleRegisterRedirect,href:"/register"},"login")))})}).call(this,n(0))},67:function(e,t,n){e.exports=n(137)}},[[67,1,2]]]);
//# sourceMappingURL=main.adf69afd.chunk.js.map